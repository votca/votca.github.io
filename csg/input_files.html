

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Input files &mdash; VOTCA 2022-dev documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Preparing coarse-grained runs" href="preparing.html" />
    <link rel="prev" title="Theoretical background" href="theory.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/customLogo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../INSTALL.html">Installation</a></li>
</ul>
<p class="caption"><span class="caption-text">Manuals</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">TOOLS Manual</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">CSG Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="theory.html">Theoretical background</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Input files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#mapping-files">Mapping files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#verification-of-a-mapping">Verification of a mapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="#advanced-topology-handling">Advanced topology handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="#trajectories">Trajectories</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setting-files">Setting files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#table-formats">Table formats</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="preparing.html">Preparing coarse-grained runs</a></li>
<li class="toctree-l2"><a class="reference internal" href="methods.html">Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced_topics.html">Advanced topics</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html">Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="bibliography.html">Bibliography</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#citations">Citations</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#development">Development</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#copyright">Copyright</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../xtp/XTP-MANUAL.html">XTP Manual</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../csg-tutorials/README.html">CSG Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../xtp-tutorials/XTP-TUTORIAL.html">XTP Tutorials</a></li>
</ul>
<p class="caption"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../DEVELOPERS_GUIDE.html">Developer and Contributor Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../VOTCA_LANGUAGE_GUIDE.html">VOTCA Internal Contributor Language Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CODE_OF_CONDUCT.html">Code of Conduct</a></li>
</ul>
<p class="caption"><span class="caption-text">Community</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/votca">Github</a></li>
<li class="toctree-l1"><a class="reference external" href="https://twitter.com/votca_xtp">Twitter</a></li>
<li class="toctree-l1"><a class="reference external" href="https://groups.google.com/g/votca">Forum</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">VOTCA</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">CSG Manual</a> &raquo;</li>
        
      <li>Input files</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/csg/input_files.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="input-files">
<h1>Input files<a class="headerlink" href="#input-files" title="Permalink to this headline">¶</a></h1>
<div class="section" id="mapping-files">
<h2>Mapping files<a class="headerlink" href="#mapping-files" title="Permalink to this headline">¶</a></h2>
<p>Mapping relates atomistic and coarse-grained representations of the
system. It is organized as follows: for each molecule <em>type</em> a mapping
file is created. When used as a command option, these files are combined
in a list separated by a semicolon, e. g.
<code class="docutils literal notranslate"><span class="pre">—cg</span></code> <code class="docutils literal notranslate"><span class="pre">protein.xml;solvent.xml</span></code>.</p>
<div class="figure align-center" id="id1">
<img alt="../_images/mapping.png" src="../_images/mapping.png" />
<p class="caption"><span class="caption-text">Atom labeling and mapping from an all-atom to a united atom representation of a propane molecule.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>Each mapping file contains a <em>topology</em> of the coarse-grained molecule
and a list of <em>maps</em>. Topology specifies coarse-grained beads and bonded
interactions between them. Each coarse-grained bead has a name, type, a
list of atoms which belong it, and a link to a map. A map is a
<span class="math notranslate nohighlight">\(c_{Ii}\)</span> for an atom <span class="math notranslate nohighlight">\(i\)</span> belonging to the bead <span class="math notranslate nohighlight">\(I\)</span>. It
is used to calculate the position of a coarse-grained bead from the
positions of atoms which belong to it. Note that <span class="math notranslate nohighlight">\(c_{Ii}\)</span> will be
automatically re-normalized if their sum is not equal to 1, i. e. in the
case of a center-of-mass mapping one can simply specify atomic masses. A
complete reference for mapping file definitions can be found in
sec. [sec:ref_mapping].</p>
<p>As an example, we will describe here a mapping file of a united atom
model of a propane molecule, chemical structure of which is shown in
fig. [fig:intro:propane]. In this coarse-grained model two bead types
(A,B) and three beads (A1, B1, A2) are defined, as shown in
fig. [fig:propane_map]. We will use centers of mass of the beads as
coarse-grained coordinates.</p>
<p>Extracts from the <code class="docutils literal notranslate"><span class="pre">propane.xml</span></code> file of the tutorial are shown below.
The tag indicates the molecule name in the coarse-grained topology. The
tag must match the name of the molecule in the atomistic representation.
In the section all beads are defined by specifying bead name (A1, B1,
A2), type, and atoms belonging to this bead in the form
<code class="docutils literal notranslate"><span class="pre">residue</span> <span class="pre">id:residue</span> <span class="pre">name:atom</span> <span class="pre">name</span></code>. For each bead a map has to be
specified, which is defined later in section. Note that bead and can be
different, which might be useful in a situation when chemically
different beads (A1, B1) are assigned to the same bead type. After
defining all beads the bonded interactions of the coarse-grained
molecule must be specified in the section. This is done by using the
identifiers of the beads in the coarse-grained model. Finally, in the
section, the mapping coefficients are defined. This includes a weighting
of the atoms in the topology section. In particular, the number of
weights given should match the number of beads.</p>
</div>
<div class="section" id="verification-of-a-mapping">
<h2>Verification of a mapping<a class="headerlink" href="#verification-of-a-mapping" title="Permalink to this headline">¶</a></h2>
<p>Note that the tag should match the molecule name in the reference
system. A common mistake is that beads have wrong names. In this case,
the tool can be used in order to identify the atoms which are read in
from a topology file <code class="docutils literal notranslate"><span class="pre">.tpr</span></code>. This tool displays the atoms in the
format <code class="docutils literal notranslate"><span class="pre">residue</span> <span class="pre">id:residue</span> <span class="pre">name:atom</span> <span class="pre">name</span></code>. For multicomponent
systems, it might happen that molecules are not identified correctly.
The workaround for this case is described in sec. [sec:adv_topology].</p>
<p>To compare coarse-grained and atomistic configurations one can use a
standard visualization program, e. g. <code class="docutils literal notranslate"><span class="pre">vmd</span></code>. When comparing
trajectories, one has to be careful, since <code class="docutils literal notranslate"><span class="pre">vmd</span></code> opens both a <code class="docutils literal notranslate"><span class="pre">.gro</span></code>
and <code class="docutils literal notranslate"><span class="pre">.trr</span></code> file. The first frame is then the <code class="docutils literal notranslate"><span class="pre">.gro</span></code> file and the
rest is taken from the <code class="docutils literal notranslate"><span class="pre">.trr</span></code> file. The coarse-grained trajectory
contains only the frames of the trajectory. Hence, the first frame of
the atomistic run has to be removed using the <code class="docutils literal notranslate"><span class="pre">vmd</span></code> menu.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;cg_molecule&gt;</span>
  <span class="nt">&lt;name&gt;</span>ppn<span class="nt">&lt;/name&gt;</span> <span class="c">&lt;!-- molecule name in cg representation --&gt;</span>
  <span class="nt">&lt;ident&gt;</span>ppn<span class="nt">&lt;/ident&gt;</span> <span class="c">&lt;!-- molecule name in atomistic topology --&gt;</span>

  <span class="nt">&lt;topology&gt;</span> <span class="c">&lt;!-- topology of one molecule --&gt;</span>
    <span class="nt">&lt;cg_beads&gt;</span>
      <span class="nt">&lt;cg_bead&gt;</span>  <span class="c">&lt;!-- definition of a coarse-grained bead --&gt;</span>
        <span class="nt">&lt;name&gt;</span>A1<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;type&gt;</span>A<span class="nt">&lt;/type&gt;</span>
        <span class="nt">&lt;mapping&gt;</span>A<span class="nt">&lt;/mapping&gt;</span> <span class="c">&lt;!-- reference to a map --&gt;</span>
          <span class="c">&lt;!-- atoms belonging to this bead --&gt;</span>
        <span class="nt">&lt;beads&gt;</span>1:ppn:C1 1:ppn:H4 1:ppn:H5 1:ppn:H6<span class="nt">&lt;/beads&gt;</span>
      <span class="nt">&lt;/cg_bead&gt;</span>
      <span class="c">&lt;!-- more bead definitions --&gt;</span>
    <span class="nt">&lt;/cg_beads&gt;</span>

    <span class="nt">&lt;cg_bonded&gt;</span> <span class="c">&lt;!-- bonded interactions --&gt;</span>
      <span class="nt">&lt;bond&gt;</span>
        <span class="nt">&lt;name&gt;</span>bond<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;beads&gt;</span>
          A1 B1
          B1 A2
        <span class="nt">&lt;/beads&gt;</span>
      <span class="nt">&lt;/bond&gt;</span>

      <span class="nt">&lt;angle&gt;</span>
        <span class="nt">&lt;name&gt;</span>angle<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;beads&gt;</span>
          A1 B1 A2
        <span class="nt">&lt;/beads&gt;</span>
      <span class="nt">&lt;/angle&gt;</span>
    <span class="nt">&lt;/cg_bonded&gt;</span>
  <span class="nt">&lt;/topology&gt;</span>

  <span class="nt">&lt;maps&gt;</span>
    <span class="nt">&lt;map&gt;</span> <span class="c">&lt;!-- mapping A --&gt;</span>
      <span class="nt">&lt;name&gt;</span>A<span class="nt">&lt;/name&gt;</span>
      <span class="nt">&lt;weights&gt;</span> 12 1 1 1 <span class="nt">&lt;/weights&gt;</span>
    <span class="nt">&lt;/map&gt;</span>
    <span class="c">&lt;!-- more mapping definitions --&gt;</span>
  <span class="nt">&lt;/maps&gt;</span>
<span class="nt">&lt;/cg_molecule&gt;</span> <span class="c">&lt;!-- end of the molecule --&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="advanced-topology-handling">
<h2>Advanced topology handling<a class="headerlink" href="#advanced-topology-handling" title="Permalink to this headline">¶</a></h2>
<p>A topology is completely specified by a set of beads, their types, and a
list of bonded interactions. votcais able to read topologies in the
GROMACS<code class="docutils literal notranslate"><span class="pre">.tpr</span></code> format. For example, one can create a coarse-grained
topology based on the mapping file and atomistic GROMACStopology using .</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>csg_gmxtopol --top topol.tpr --cg propane.xml --out out.top
</pre></div>
</div>
<p>In some cases, however, one might want to use a .pdb, H5MD or .dump file
which does not contain all information about the atomistic topology. In
this case, additional information can be supplied in the XMLmapping
file.</p>
<p>A typical example is lack of a clear definition of molecules, which can
be a problem for simulations with several molecules with multiple types.
During coarse-graining, the molecule type is identified by a name tag as
names must be clearly identified. To do this, it is possible to read a
topology and then modify parts of it. The new XMLtopology can be used
with the <code class="docutils literal notranslate"><span class="pre">—tpr</span></code> option, as any other topology file.</p>
<p>For example, if information about a molecule is not present at all, one
can create one from a <code class="docutils literal notranslate"><span class="pre">.pdb</span></code> file as follows</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;topology</span> <span class="na">base=</span><span class="s">&quot;snapshot.pdb&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;molecules&gt;</span>
    <span class="nt">&lt;clear/&gt;</span>
    <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;mCP&quot;</span> <span class="na">first=</span><span class="s">&quot;1&quot;</span> <span class="na">nbeads=</span><span class="s">&quot;52&quot;</span> <span class="na">nmols=</span><span class="s">&quot;216&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/molecules&gt;</span>
<span class="nt">&lt;/topology&gt;</span>
</pre></div>
</div>
<p>where <span class="math notranslate nohighlight">\(&lt;\)</span>clear/<span class="math notranslate nohighlight">\(&gt;\)</span> clears all information that was
present before.</p>
<p>Old versions of GROMACSdid not store molecule names. In order to use
this feature, a recent <code class="docutils literal notranslate"><span class="pre">.tpr</span></code> file containing molecule names should
always be provided. For old topologies, rerun GROMACS to update the old
topology file.</p>
<p>If molecule information is already present in the parent topology but
molecules are not named properly (as it is the case with old
GROMACS<code class="docutils literal notranslate"><span class="pre">.tpr</span></code> files), one can rename them using</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;topology</span> <span class="na">base=</span><span class="s">&quot;topol.tpr&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;molecules&gt;</span>
    <span class="nt">&lt;rename</span> <span class="na">name=</span><span class="s">&quot;PPY3&quot;</span> <span class="na">range=</span><span class="s">&quot;1:125&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;rename</span> <span class="na">name=</span><span class="s">&quot;Cl&quot;</span> <span class="na">range=</span><span class="s">&quot;126:250&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/molecules&gt;</span>
<span class="nt">&lt;/topology&gt;</span>
</pre></div>
</div>
<p>Here, the file <code class="docutils literal notranslate"><span class="pre">topol.tpr</span></code> is loaded first and all molecules are
renamed afterwards.</p>
<p>If you do not have a .pdb/.gro file and you want to read trajectory from
LAMMPS .dump file or H5MD then it is also possible to directly define
topology in XMLfile. Here is an example of such file where the
trajectory is read from H5MD file:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;topology&gt;</span>
  <span class="c">&lt;!-- particle group name in H5MD file --&gt;</span>
  <span class="nt">&lt;h5md_particle_group</span> <span class="na">name=</span><span class="s">&quot;atoms&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;molecules&gt;</span>
    <span class="c">&lt;!-- define molecule, number of beads, number of mols --&gt;</span>
    <span class="nt">&lt;molecule</span> <span class="na">name=</span><span class="s">&quot;BUT&quot;</span> <span class="na">nmols=</span><span class="s">&quot;4000&quot;</span> <span class="na">nbeads=</span><span class="s">&quot;4&quot;</span><span class="nt">&gt;</span>
      <span class="c">&lt;!-- composition of molecule, bead definition --&gt;</span>
      <span class="nt">&lt;bead</span> <span class="na">name=</span><span class="s">&quot;C1&quot;</span> <span class="na">type=</span><span class="s">&quot;C&quot;</span> <span class="na">mass=</span><span class="s">&quot;15.035&quot;</span> <span class="na">q=</span><span class="s">&quot;0.0&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;bead</span> <span class="na">name=</span><span class="s">&quot;C2&quot;</span> <span class="na">type=</span><span class="s">&quot;C&quot;</span> <span class="na">mass=</span><span class="s">&quot;14.028&quot;</span> <span class="na">q=</span><span class="s">&quot;0.0&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;bead</span> <span class="na">name=</span><span class="s">&quot;C3&quot;</span> <span class="na">type=</span><span class="s">&quot;C&quot;</span> <span class="na">mass=</span><span class="s">&quot;14.028&quot;</span> <span class="na">q=</span><span class="s">&quot;0.0&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;bead</span> <span class="na">name=</span><span class="s">&quot;C4&quot;</span> <span class="na">type=</span><span class="s">&quot;C&quot;</span> <span class="na">mass=</span><span class="s">&quot;15.035&quot;</span> <span class="na">q=</span><span class="s">&quot;0.0&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/molecule&gt;</span>
  <span class="nt">&lt;/molecules&gt;</span>
  <span class="c">&lt;!-- bonded terms --&gt;</span>
  <span class="nt">&lt;bonded&gt;</span>
    <span class="nt">&lt;bond&gt;</span>
      <span class="nt">&lt;name&gt;</span>bond1<span class="nt">&lt;/name&gt;</span>
      <span class="nt">&lt;beads&gt;</span>
        BUT:C1 BUT:C2
      <span class="nt">&lt;/beads&gt;</span>
    <span class="nt">&lt;/bond&gt;</span>
    <span class="nt">&lt;bond&gt;</span>
      <span class="nt">&lt;name&gt;</span>bond2<span class="nt">&lt;/name&gt;</span>
      <span class="nt">&lt;beads&gt;</span>
        BUT:C2 BUT:C3
      <span class="nt">&lt;/beads&gt;</span>
    <span class="nt">&lt;/bond&gt;</span>
    <span class="nt">&lt;angle&gt;</span>
      <span class="nt">&lt;name&gt;</span>angle1<span class="nt">&lt;/name&gt;</span>
      <span class="nt">&lt;beads&gt;</span>
        BUT:C1 BUT:C2 BUT:C3
        BUT:C2 BUT:C3 BUT:C4
      <span class="nt">&lt;/beads&gt;</span>
    <span class="nt">&lt;/angle&gt;</span>
    <span class="nt">&lt;dihedral&gt;</span>
      <span class="nt">&lt;name&gt;</span>dihedral1<span class="nt">&lt;/name&gt;</span>
      <span class="nt">&lt;beads&gt;</span>
        BUT:C1 BUT:C2 BUT:C3 BUT:C4
      <span class="nt">&lt;/beads&gt;</span>
    <span class="nt">&lt;/dihedral&gt;</span>
  <span class="nt">&lt;/bonded&gt;</span>
<span class="nt">&lt;/topology&gt;</span>
</pre></div>
</div>
<p>The list of molecules is defined in section <code class="docutils literal notranslate"><span class="pre">molecules</span></code> where every
<code class="docutils literal notranslate"><span class="pre">molecule</span></code> is replicated <code class="docutils literal notranslate"><span class="pre">nmols</span></code> times. Inside <code class="docutils literal notranslate"><span class="pre">molecule</span></code> the list
of <code class="docutils literal notranslate"><span class="pre">bead</span></code> has to be defined with the name, type, mass and charge.</p>
<p>The box size can be set by the tag <code class="docutils literal notranslate"><span class="pre">box</span></code>:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;box</span> <span class="na">xx=</span><span class="s">&quot;6.0&quot;</span> <span class="na">yy=</span><span class="s">&quot;6.0&quot;</span> <span class="na">zz=</span><span class="s">&quot;6.0&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">xx,</span> <span class="pre">yy,</span> <span class="pre">zz</span></code> are the dimensions of the box.</p>
<p>A complete reference for XMLtopology file can be found in
sec. [sec:ref_topology].</p>
</div>
<div class="section" id="trajectories">
<h2>Trajectories<a class="headerlink" href="#trajectories" title="Permalink to this headline">¶</a></h2>
<p>A trajectory is a set of frames containing coordinates (velocities and
forces) for the beads defined in the topology. votcacurrently supports
<code class="docutils literal notranslate"><span class="pre">.trr</span></code>, <code class="docutils literal notranslate"><span class="pre">.xtc</span></code>, <code class="docutils literal notranslate"><span class="pre">.pdb</span></code>, <code class="docutils literal notranslate"><span class="pre">.gro</span></code> and H5MD <code class="docutils literal notranslate"><span class="pre">.h5</span></code> trajectory
formats.</p>
<p>Once the mapping file is created, it is easy to convert an atomistic to
a coarse-grained trajectory using</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span>csg_map --top topol.tpr --trj traj.trr --cg propane.xml --out cg.gro
</pre></div>
</div>
<p>The program also provides the option <code class="docutils literal notranslate"><span class="pre">—no-map</span></code>. In this case, no
mapping is done and works as a trajectory converter. In general, mapping
can be enabled and disabled in most analysis tools, e.g. in or .</p>
<p>Note that the topology files can have a different contents as bonded
interactions are not provided in all formats. In this case, mapping
files can be used to define and relabel bonds.</p>
<p>Also note that the default setting concerning mapping varies
individually between the programs. Some have a default setting that does
mapping (such as , use <code class="docutils literal notranslate"><span class="pre">—no-map</span></code> to disable mapping) and some have
mapping disabled by default (e.g. , use <code class="docutils literal notranslate"><span class="pre">—cg</span></code> to enable mapping).</p>
</div>
<div class="section" id="setting-files">
<h2>Setting files<a class="headerlink" href="#setting-files" title="Permalink to this headline">¶</a></h2>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;cg&gt;</span>
  <span class="nt">&lt;non-bonded&gt;</span> <span class="c">&lt;!-- non-bonded interactions --&gt;</span>
    <span class="nt">&lt;name&gt;</span>A-A<span class="nt">&lt;/name&gt;</span> <span class="c">&lt;!-- name of the interaction --&gt;</span>
    <span class="nt">&lt;type1&gt;</span>A<span class="nt">&lt;/type1&gt;</span> <span class="c">&lt;!-- types involved in this interaction --&gt;</span>
    <span class="nt">&lt;type2&gt;</span>A<span class="nt">&lt;/type2&gt;</span>
    <span class="nt">&lt;min&gt;</span>0<span class="nt">&lt;/min&gt;</span>  <span class="c">&lt;!-- dimension + grid spacing of tables--&gt;</span>
    <span class="nt">&lt;max&gt;</span>1.36<span class="nt">&lt;/max&gt;</span>
    <span class="nt">&lt;step&gt;</span>0.01<span class="nt">&lt;/step&gt;</span>
    <span class="nt">&lt;inverse&gt;</span>
      ... specific commands
    <span class="nt">&lt;/inverse&gt;</span>

    ... specific section for inverse boltzmann, force matching etc.
  <span class="nt">&lt;/non-bonded&gt;</span>
<span class="nt">&lt;/cg&gt;</span>
</pre></div>
</div>
<p>A setting file is written in the format <code class="docutils literal notranslate"><span class="pre">.xml</span></code>. It consists of a
general section displayed above, and a specific section depending on the
program used for simulations. The setting displayed above is later
extended in the sections on iterative boltzmann inversion (), force
matching () or statistical analysis ().</p>
<p>Generally, is an analysis tool which can be used for computing radial
distribution functions and analysing them. As an example, the command</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span>csg_stat --top topol.tpr --trj traj.xtc --options settings.xml
</pre></div>
</div>
<p>computes the distributions of all interactions specified in
<code class="docutils literal notranslate"><span class="pre">settings.xml</span></code> and writes all tabulated distributions as files
<code class="docutils literal notranslate"><span class="pre">interaction</span> <span class="pre">name.dist.new</span></code>.</p>
</div>
<div class="section" id="table-formats">
<h2>Table formats<a class="headerlink" href="#table-formats" title="Permalink to this headline">¶</a></h2>
<p>In the iterative framework distribution functions, potentials and forces
are returned as tables and saved in a file. Those tables generally have
the format</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>x y [error] flag
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">x</span></code> is input quantity (e.g. radius <span class="math notranslate nohighlight">\(r\)</span>, angles
<span class="math notranslate nohighlight">\(\theta\)</span> or <span class="math notranslate nohighlight">\(\phi\)</span>), <code class="docutils literal notranslate"><span class="pre">y</span></code> is the computed quantity (e.g. a
potential) and <code class="docutils literal notranslate"><span class="pre">[error]</span></code> is an optional error for <code class="docutils literal notranslate"><span class="pre">y</span></code>. The token
<code class="docutils literal notranslate"><span class="pre">flag</span></code> can take the values <code class="docutils literal notranslate"><span class="pre">i</span></code>, <code class="docutils literal notranslate"><span class="pre">o</span></code> or <code class="docutils literal notranslate"><span class="pre">u</span></code>. In the first case,
<code class="docutils literal notranslate"><span class="pre">i</span></code> (<code class="docutils literal notranslate"><span class="pre">in</span> <span class="pre">range</span></code>) describes a value that lies within the data range,
<code class="docutils literal notranslate"><span class="pre">o</span></code> (<code class="docutils literal notranslate"><span class="pre">out</span> <span class="pre">of</span> <span class="pre">range</span></code>) symbolises a value out of the data range and
<code class="docutils literal notranslate"><span class="pre">u</span></code> stands for an <code class="docutils literal notranslate"><span class="pre">undefined</span></code> value.</p>
<p>The token <code class="docutils literal notranslate"><span class="pre">flag</span></code> will be important when extrapolating the table as
described in sec. [sec:post_processing].</p>
<p>For historical reasons, uses a slightly different table format, it has
no <code class="docutils literal notranslate"><span class="pre">flag</span></code> column and uses the third column as a force column when
outputting a potential.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="preparing.html" class="btn btn-neutral float-right" title="Preparing coarse-grained runs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="theory.html" class="btn btn-neutral float-left" title="Theoretical background" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, VOTCA Development Team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>